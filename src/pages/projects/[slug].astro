---
import Layout from "@layouts/Layout.astro";
import Nav from "@components/Navbar/Nav.astro";
import Footer from "@components/Footer.astro";
import { getCaseStudies } from "@components/stapi_client/index";
import type { ApiProjectProject } from "@components/stapi_client/index";
import CaseStudyPage from "@components/stapi_client/components/case_studies/CaseStudyPage.astro";

export async function getStaticPaths() {
    const projects = await getCaseStudies();

    return projects.map((project: ApiProjectProject) => ({
        params: { slug: project.attributes.slug },
    }));
}

const slug = Astro.params.slug;
---

<Layout>
    <div class="mb-10 lg:mb-20">
        <Nav />
    </div>

    <CaseStudyPage slug={String(slug)} />

    <div class="mt-auto">
        <Footer />
    </div>

    <script src="vanilla-tilt"></script>
</Layout>

<style>
    .dotted-bullet::before {
        content: "â€¢";
        display: inline-block;
        margin-right: 0.5rem;
        color: currentColor;
        font-size: 1.25rem;
    }
</style>
