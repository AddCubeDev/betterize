---
import type { Embed } from "./../../../../../typescript/types/components";

interface Props {
    data: Embed;
}

const { data } = Astro.props;

function isAutoplayable() {
    if (data.autoplay) {
        return "&autoplay=1&muted=1";
    } else {
        return "";
    }
}
---

<div class="w-full max-w-6xl mx-auto">
    <div class="shadow-2xl" style="padding:56.25% 0 0 0;position:relative;">
        <iframe
            src={data.url + isAutoplayable()}
            style="position:absolute;top:0;left:0;width:100%;height:100%;"
            frameborder="0"
            allow="autoplay; fullscreen; picture-in-picture"
            allowfullscreen></iframe>
    </div>
    <p class="mt-2 text-gray-300 text-md">{data.caption}</p>
</div>
